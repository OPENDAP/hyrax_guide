<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5.dev">
<meta name="author" content="Leonard Porrello">
<title>User Guide - OPeNDAP Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
<h1>User Guide - OPeNDAP Documentation</h1>
<div class="details">
<span id="author" class="author">Leonard Porrello</span><br>
<span id="email" class="email"><a href="mailto:lporrel@gmail.com">lporrel@gmail.com</a></span><br>
<span id="revdate">2016-12-31</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#trueabout-this-guide">1. About This Guide</a>
<ul class="sectlevel2">
<li><a href="#truewhat-is-opendap">1.1. What is OPeNDAP</a></li>
<li><a href="#truethe-opendap-client-server">1.2. The OPeNDAP Client/Server</a></li>
<li><a href="#trueopendap-services">1.3. OPeNDAP Services</a></li>
<li><a href="#truethe-opendap-server-hyrax">1.4. The OPeNDAP Server (Hyrax)</a></li>
<li><a href="#trueadministration-and-centralization-of-data">1.5. Administration and Centralization of Data</a></li>
</ul>
</li>
<li><a href="#trueopendap-data-model">2. OPeNDAP Data Model</a>
<ul class="sectlevel2">
<li><a href="#truedata-and-data-models">2.1. Data and Data Models</a></li>
</ul>
</li>
<li><a href="#trueopendap-messages">3. OPeNDAP Messages</a>
<ul class="sectlevel2">
<li><a href="#truethe-opendap-messages">3.1. The OPeNDAP Messages</a></li>
<li><a href="#trueconstraint-expressions">3.2. Constraint Expressions</a></li>
</ul>
</li>
<li><a href="#trueopendap-server-hyrax">4. OPeNDAP Server (Hyrax)</a>
<ul class="sectlevel2">
<li><a href="#truethe-opendap-server">4.1. The OPeNDAP Server</a></li>
</ul>
</li>
<li><a href="#trueopendap-client">5. OPeNDAP Client</a>
<ul class="sectlevel2">
<li><a href="#truethe-opendap-client">5.1. The OPeNDAP Client</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="trueabout-this-guide"><a class="anchor" href="#trueabout-this-guide"></a>1. About This Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide introduces important concepts behind the OPeNDAP data
model and transmission format as well as the clients and servers that
use them. While it is not a reference for any particular client or server, you will find links to particluar clients and servers in it.</p>
</div>
<div class="sect2">
<h3 id="truewhat-is-opendap"><a class="anchor" href="#truewhat-is-opendap"></a>1.1. What is OPeNDAP</h3>
<div class="paragraph">
<p>OPeNDAP provides a way for researchers to access scientific data
anywhere on the Internet, from a wide variety of new <em>and existing</em>
programs.</p>
</div>
<div class="paragraph">
<p>It is used widely in earth-science research settings but it is not limited to that. Using a flexible data model and a well-defined transmission format, an OPeNDAP client can request data from a wide variety of OPeNDAP servers, allowing researchers to enjoy flexibility similar to the flexibility of the web.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There are different implementations of OPeNDAP produced by various open source organizations. This guide covers the implementation of OPeNDAP produced by the OPeNDAP group.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The OPeNDAP architecture uses a client/server model, with a <em>client</em>
that sends requests for data out onto the network to a <em>server</em>,
that answers with the requested data. This is the same model used by
the <a href="http://www.w3.org/hypertext/WWW/TheProject.html">World Wide Web</a>
where client browsers submit requests to web servers for the data that
compose web pages. Using flexible, multi-purpose data types,
including scientific data, OPeNDAP servers deliver real data
directly to client programs in the format needed by that client. OPeNDAP can return data in the following formats: NetCDF, GeoTIFF, JPEG2000, JSON, ASCII.</p>
</div>
<div class="paragraph">
<p>OPeNDAP clients are very specialized browsers, constructed by linking
legacy data analysis programs with OPeNDAP-enabled versions of the data
access APIs they use or by modifying programs to use one of the
OPeNDAP data access APIs. In addition to providing a sophisticated set
of network-compatible APIs in several languages, there are also
libraries of legacy APIs available in OPeNDAP-aware versions. The
popular <a href="http://www.unidata.ucar.edu/downloads/netcdf/index.jsp">NetCDF</a>
library, for example, can read data from remote OPeNDAP data sources as
easily as it reads from a local file.</p>
</div>
<div class="paragraph">
<p>To expand the universe of data available to a user, OPeNDAP incorporates
a powerful data translation facility, so that data may be stored in data
structures and formats that are defined by the data provider but can be accessed by the
users just like they access of local data files on the
user&#8217;s own system. Alhough there are limitations on the types of data
that may be translated (see
<a href="./UserGuideDataModel.txt#Translation">Translation</a>), the
facility is flexible and general enough to handle many translations. The upshot of this is&#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A user may not need to know that data from one set are stored in a
format different from data in another set. Also, it may be possible
that <em>neither</em> data set is stored in a format readable by the original
version of the data analysis and display program he or she uses.</p>
</li>
<li>
<p>No segment of OPeNDAP users will be cut off from accessing
data because of its storage format. A scientist who wants to make his
or her data available to other OPeNDAP users may do so while keeping
that data in what may be even a highly idiosyncratic storage format.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The combination of the OPeNDAP network communication model and the data
translation facility make OPeNDAP a powerful tool for the retrieval,
sampling, and display of large distributed datasets. Although OPeNDAP was
developed by oceanographers, its application is not limited to
oceanographic data. The organizing principles and algorithms may be
applied to many other fields.</p>
</div>
<div class="paragraph">
<p>The uniformity with which data appears, which makes the system useful
for data analysis, also enables you to automate data transport and manipulation
tasks. For example, NOAA&#8217;s
<a href="http://ferret.pmel.noaa.gov/Ferret/LAS/home/">Live Access Server (LAS)</a>
(see, for example, <a href="http://mynasadata.larc.nasa.gov/data.html" class="bare">http://mynasadata.larc.nasa.gov/data.html</a>) uses
OPeNDAP, as do many of the real-time observing systems that make up the
<a href="https://ioos.noaa.gov/">Integrated Ocean Observing System (IOOS)</a>, such as the
<a href="http://gomoos.org">Gulf of Maine Ocean Observing System (GoMOOS)</a>.</p>
</div>
<div class="paragraph">
<p>Users who may be interested in OPeNDAP may be divided into data consumers and data providers (and these two roles are often assumed by the same scientists). The remainder of this guide is organized around this distinction between classes of users.</p>
</div>
</div>
<div class="sect2">
<h3 id="truethe-opendap-client-server"><a class="anchor" href="#truethe-opendap-client-server"></a>1.2. The OPeNDAP Client/Server</h3>
<div class="paragraph">
<p>OPeNDAP uses a client/server model. The OPeNDAP servers are web servers
equipped to interpret an OPeNDAP URL sent to them. An OPeNDAP client
composes and sends messages to those servers. There are standalone
OPeNDAP clients, but most clients are constructed from data analysis
programs that are modified to get their data remotely, from the internet, rather
than locally, from a file.</p>
</div>
<div class="paragraph">
<p>Without OPeNDAP, a program that uses one of the common data
access APIs (such as netCDF) operates as shown in
The Architecture of a Data Analysis Package figure, shown below. Here is how it works:
The user makes a request for data from the program; the program uses a
data access API to read and write data; the program uses procedures
defined by that API to access the data, which is typically stored on the
same host machine. Some APIs are somewhat more sophisticated than this, but their general operation is similar.</p>
</div>
<div class="paragraph">
<div class="title">The Architecture of a Data Analysis Package</div>
<p><span class="image"><img src="./images/Unlinked.png" alt="Unlinked.png"></span></p>
</div>
<div class="paragraph">
<p>The operation of an OPeNDAP client is illustrated in the The Architecture of a Data Analysis Package Using OPeNDAP figure, shown below. Here, the <em>same program</em> that was used in The Architecture of a Data Analysis Package
figure (above) has been modified to use one of the OPeNDAP API libraries.
Now, in addition to being able to use local data as before, the program is able to access data from OPeNDAP servers anywhere on the internet just as it would local data.</p>
</div>
<div class="paragraph">
<p>To make any analysis program into an OPeNDAP client, it just needs to be linked with the OPeNDAP API library. (Or, if your program uses one of the
supported legacy API libraries, like netCDF, you can link with the
OPeNDAP version of that library.) This will create a program that
accepts URLs as well as file pathnames to identify needed data. (See
<a href="./UserGuideClient.txt">the OPeNDAP Client</a>).</p>
</div>
<div class="paragraph">
<div class="title">The Architecture of a Data Analysis Package Using OPeNDAP</div>
<p><span class="image"><img src="./images/Linked.png" alt="Linked.png"></span></p>
</div>
<div class="paragraph">
<p>OPeNDAP also provides data translation functionality. Data from the
original data file is translated by the OPeNDAP server into the OPeNDAP
data model for transmission to the client. Upon receiving the data, the
client translates the data into the
<a href="./UserGuideDataModel.txt">data model</a> it understands. Because
the data transmitted from an OPeNDAP server to the client travel in the
OPeNDAP format, the dataset&#8217;s original storage format is completely
irrelevant to the client. For example, if the client was originally designed to read
netCDF format files, the data returned by the OPeNDAP-netCDF library
will appear to have been read from a netCDF file. Similarly, if the program expects JGOFS data, the OPeNDAP-JGOFS library will return
data that seem to have come from a JGOFS dataset, and so on.</p>
</div>
<div class="paragraph">
<p>OPeNDAP does not claim to remove all of the overhead of data searches. A
user will still have to keep track of the URLs of interesting data in
the same way a user must now keep track of the names of files. (You may
run across datasets where the data consists of OPeNDAP URLs. These are
the OPeNDAP file servers and have been developed by OPeNDAP users to
organize datasets consisting of large numbers of individual files.) But
OPeNDAP does make the access to that data simpler and quicker.</p>
</div>
<div class="paragraph">
<p>The OPeNDAP group provides a whole array of client software to implement
this communication standard. These range from standalone clients to
libraries to link with existing software.</p>
</div>
</div>
<div class="sect2">
<h3 id="trueopendap-services"><a class="anchor" href="#trueopendap-services"></a>1.3. OPeNDAP Services</h3>
<div class="paragraph">
<p>The communication between an OPeNDAP client and server is specified by
the Data Access Protocol (DAP). This defines the range of messages a
server must understand and the kinds of replies it makes.</p>
</div>
<div class="paragraph">
<p>There are two categories of messages that an OPeNDAP server can understand.
Some are required by the DAP and others are merely suggested. A server
is considered to be DAP-compliant if it can respond intelligibly to the
required messages. Following are the requests messages a server is required to understand:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Data Description</dt>
<dd>
<p>Data values come in types and sizes. An array, for example, might consist of 10 integers. The value "ten" and the type "integer" describe the array. This request returns information about data types, so that a receiving program can allocate space appropriately. See <a href="./UserGuideOPeNDAPMessages.txt#Dataset_Descriptor_Structure">Data Description Structure (DDS)</a>.</p>
</dd>
<dt class="hdlist1">Data Attribute</dt>
<dd>
<p>This is a request to provide information <em>about</em> data and typically includes information like units, names of data types, reference information and so on. See <a href="./UserGuideDataModel.txt#DAS">Data Attribute Structure (DAS)</a>.</p>
</dd>
<dt class="hdlist1">Data</dt>
<dd>
<p>The server also must be able to respond to a request for the data itself. See <a href="./UserGuideDataModel.txt#DataDDS">data response</a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In addition, a server may respond to requests like these:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">ASCII</dt>
<dd>
<p>Some servers can convert data to ASCII values on the fly. This allows users to view data using a standard web browser, assuming the data are not too large. See <a href="./UserGuideServer.txt#ASCII">ASCII return</a>.</p>
</dd>
<dt class="hdlist1">Info</dt>
<dd>
<p>The info response is a formatted page containing information from the Data Attributes and Data Description responses. It is meant to be a human-readable means to show what is available in a dataset via a standard web browser. See <a href="./UserGuideServer.txt#Info">Info response</a>.</p>
</dd>
<dt class="hdlist1">HTML</dt>
<dd>
<p>Very similar to the info response, the HTML response provides the information from the info response and also includes a Javascript form to help you build a request for data from the same data file. The best description of the HTML form is in the <a href="./QuickStart.txt">Quick Start Guide</a>.</p>
</dd>
<dt class="hdlist1">SOAP</dt>
<dd>
<p>OPeNDAP servers can provide their data in terms of a SOAP request and response. For more information see <a href="./UserGuideDataModel.txt#SOAP">SOAP Request</a>.</p>
</dd>
<dt class="hdlist1">DDX</dt>
<dd>
<p>The DDX is an XML version of the Data Attribute and Data Description replies. See <a href="./UserGuideServer.txt#DDX">DDX Request</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="truethe-opendap-server-hyrax"><a class="anchor" href="#truethe-opendap-server-hyrax"></a>1.4. The OPeNDAP Server (Hyrax)</h3>
<div class="paragraph">
<p>OPeNDAP provides a definition of the communication between client and
server and enables servers and clients that conform to DAP standard to communicate
with each other. In addition to the DAP communication standard
itself, the OPeNDAP group also provides an implementation of a
standard server protocol, called <em>Hyrax.</em></p>
</div>
<div class="paragraph">
<p>The OPeNDAP data server is made up of two pieces. You can think of them
as a front-end and a back-end, though a client will not be aware of the
separation. They will often be run on the same machine, and even when
they are not, a client will see only the front end.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The front-end server is a Tomcat servlet and is also called the
<strong>OPeNDAP Lightweight Front-End Servlet</strong> (OLFS). Its job is to receive
your request for data and manage all the different forms a request
might take. For example, you might be asking for the data, an ASCII
version of the data, or a reply to a SOAP message looking for data. The
front-end server can also reply to THREDDS catalog requests, for
information about the data, and can directly provide some information
about the data, too.</p>
</li>
<li>
<p>The <strong>Back-End Server</strong> (BES) is more strictly about performance and is
designed to respond quickly and efficiently to requests from the OLFS.
It is a pure data server and has only one format of request and
response, relying on the OLFS to convert messages to whatever format
the user needs.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Most users will not make requests directly to the BES.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Hyrax Architecture</div>
<p><span class="image"><img src="./images/600px-HyraxArchitecture.jpg" alt="600px HyraxArchitecture.jpg"></span></p>
</div>
<div class="paragraph">
<p><em>Hyrax</em> is an alternative name for the OPeNDAP 4 Data Server.</p>
</div>
<div class="paragraph">
<p>See <a href="./UserGuideDataModel.txt">Data Model</a> for a description
of the data returned by requests and see
<a href="./UserGuideServer.txt">OPeNDAP Server</a> for a description of
the URL syntax used to send requests.</p>
</div>
<div class="paragraph">
<p>See <a href="./Hyrax.txt">the OPeNDAP 4 Data Server documentation</a> for
a description of how to install and configure an OPeNDAP data server
(Hyrax).</p>
</div>
</div>
<div class="sect2">
<h3 id="trueadministration-and-centralization-of-data"><a class="anchor" href="#trueadministration-and-centralization-of-data"></a>1.5. Administration and Centralization of Data</h3>
<div class="paragraph">
<p>Under OPeNDAP, there is no central archive of data. Data under OPeNDAP
is organized similar to the World Wide Web. To make your data accessable, all that you need to do is to start up a properly
configured server on an Internet node that has access to the data to be
served. Data providers are free to join and to leave the system as doing so is convenient, just as any proprietor of a web page is free to delete it or add to it as needed.</p>
</div>
<div class="paragraph">
<p>Similar to the World Wide Web, there are some
disadvantages to the lack of central authority. If no one knows about a
web site, no one will visit it. Similarly, listing a dataset in a
central data catalog, such as the Global Change Master Directory
(<a href="http://gcmd.gsfc.nasa.gov">http://gcmd.gsfc.nasa.gov/</a>), can make data
available to other researchers in a way that simply configuring an
OPeNDAP server would not. OPeNDAP provided a facility for registering a
data set with the GCMD catalog. This makes the data set known to the
OPeNDAP data location service. The THREDDS catalog service is another
way to make information about your data widely available.</p>
</div>
<div class="paragraph">
<p>The remainder of this section will be divided into three sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Instructions on the building and operating of OPeNDAP clients</p>
</li>
<li>
<p>A tutorial and reference on running OPeNDAP servers and making data
available to OPeNDAP clients</p>
</li>
<li>
<p>A technical documentation describing the
implementation details (and the motivation behind many of the design
decisions) of the OPeNDAP software.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueopendap-data-model"><a class="anchor" href="#trueopendap-data-model"></a>2. OPeNDAP Data Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides a review of the data types OPeNDAP sends between client and server and issues involved in translating one to another. This information may be useful to researchers who will be using OPeNDAP to transfer data.</p>
</div>
<div class="sect2">
<h3 id="truedata-and-data-models"><a class="anchor" href="#truedata-and-data-models"></a>2.1. Data and Data Models</h3>
<div class="paragraph">
<p>Basic to the operation of OPeNDAP is its data model and the set of
messages that define the communication between client and server. This
section presents the data model (the next section presents the messages).</p>
</div>
<div class="sect3">
<h4 id="truedata-models"><a class="anchor" href="#truedata-models"></a>2.1.1. Data Models</h4>
<div class="paragraph">
<p>Any data set is made up of data and a data model. The data model defines
the type and arrangement of data values and may be thought of as an
abstract representation of the relationship between one data value and
another. Although it may seem paradoxical, it is precisely this
relationship that defines the meaning of a number. Without the
context provided by a data model, a number does not represent anything.
For example, within some data set, it may be apparent that a number
represents the value of temperature at some point in space and time.
Without its neighboring temperature measurements, and without the
latitude, longitude, height (or depth), and time, the same number is meaningless.</p>
</div>
<div class="paragraph">
<p>As the model only defines an abstract set of relationships, two data
sets containing different data may share the same data model. For
example, the data produced by two different measurements with the same
instrument will use the same data model, though the values of the data
are different. Sometimes two models may be equivalent. For example, an
XBT (eXpendable BathyThermograph) measures a time series of temperature
near the surface of the ocean, but is usually stored as a series of
temperature and depth measurements. The temperature vs. time model of
the original data is equivalent to the temperature vs. depth model of
the stored data.</p>
</div>
<div class="paragraph">
<p>In a computational sense, a data model may be considered to be the data
type or collection of data types used to represent that data. A
temperature measurement might occur as half an entry in a sequence of
temperature and depth pairs. However the data model also includes the
scalar latitude, longitude, and date that identify the time and place
where the temperature measurements were taken. Thus the data set might
be represented in a C-like syntax like this:</p>
</div>
<div class="listingblock">
<div class="title">Example Data Description of XBT Station</div>
<div class="content">
<pre>Dataset {
   Float64 lat;
   Float64 lon;
   Int32 minutes;
   Int32 day;
   Int32 year;
   Sequence {
      Float64 depth;
      Float64 temperature;
   } cast;
} xbt-station;</pre>
</div>
</div>
<div class="paragraph">
<p>The above example describes a data set that contains all the data from
a single XBT. The data set is called xbt-station and contains
floating-point representations of the latitude and longitude of the
station and three integers that specify <em>when</em> the XBT measurements
were made. The xbt-station contains a single sequence (called cast) of
measurements, which are represented here as values for depth and temperature.</p>
</div>
<div class="paragraph">
<p>A slightly different data model representing the same data might look like this:</p>
</div>
<div class="listingblock">
<div class="title">Example Data Description of XBT Station Using Structures</div>
<div class="content">
<pre>Dataset {
   Structure {
      Float64 lat;
      Float64 lon;
   } location;
   Structure {
      Int32 minutes;
      Int32 day;
      Int32 year;
   } time;
   Sequence {
      Float64 depth;
      Float64 temperature;
   } cast;
} xbt-station;</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, some of the data have been grouped, implying a
relation between them. The nature of the relationship is not defined,
but it is clear that lat and lon are both components of location and
that each measurement in the cast sequence is made up of depth and temperature values.</p>
</div>
<div class="paragraph">
<p>In these two examples, meaning was added to the data set only by
providing a more refined context for the data values. No other data was
added, but the second example can be said to contain more
information than the first one.</p>
</div>
<div class="paragraph">
<p>These two examples are refinements of the same basic arrangement of
data. However, there is nothing that says that a completely different
data model can not be just as useful or just as accurate. For example, the
depth and temperature data, instead of being represented by a sequence
of pairs could be represented by a pair of sequences or arrays:</p>
</div>
<div class="listingblock">
<div class="title">Example Data Description of XBT Station Using Arrays</div>
<div class="content">
<pre>Dataset {
   Structure {
      Float64 lat;
      Float64 lon;
   } location;
   Structure {
      Int32 minutes;
      Int32 day;
      Int32 year;
   } time;
   Float64 depth[500];
   Float64 temperature[500];
} xbt-station;</pre>
</div>
</div>
<div class="paragraph">
<p>The relationship between the depth and temperature variables is no
longer quite as clear, but depending on what sort of processing is
intended, the loss may be unimportant.</p>
</div>
<div class="paragraph">
<p>The choice of a computational data model to contain a data set
depends in many cases on the whims and preferences of the user as well
as on the data analysis software to be used. Several different data
models may be equally useful for a given task and not all data models will contain the same quantity of informaiton.</p>
</div>
<div class="paragraph">
<p>Note that with a carefully chosen set of data type constructors, such as
those we have  used in the preceding examples, a user can implement an
infinite number of data models. The examples above use the OPeNDAP
Dataset Descriptor Structure (DDS) format, which will become important
in later discussions of the details of the OPeNDAP Data Access Protocol.
The precise details of the DDS syntax are described in
<a href="./UserGuideOPeNDAPMessage.txts#Dataset_Descriptor_Structure">DDS</a>.</p>
</div>
<div class="sect4">
<h5 id="truedata-models-and-apis"><a class="anchor" href="#truedata-models-and-apis"></a>Data Models and APIs</h5>
<div class="paragraph">
<p>A data access Application Program Interface (API) is a library of
functions designed to be used by a computer program to read, write, and
sample data. Any given data access API can be said to implicitly define a data model. (Or, at least, it will define restrictions on the data model.) That is, the functions that compose the API accept and return data using a certain collection of computational data types: multi-dimensional arrays might be required for some data, scalars for
others, and sequences for others. This collection of data types and their
use constitute the data model represented by that API. (Or data
modelsthere is no reason an API cannot accommodate several different
models.)</p>
</div>
</div>
<div class="sect4">
<h5 id="truetranslating-data-models"><a class="anchor" href="#truetranslating-data-models"></a>Translating Data Models</h5>
<div class="paragraph">
<p>The problem of data model translation is central to the implementation
of OPeNDAP. With an effective data translator, an OPeNDAP program
originally designed to read netCDF data can have some access to data
sets that use an incompatible data model, such as JGOFS.</p>
</div>
<div class="paragraph">
<p>In general, it is not possible to define an algorithm that will
translate data from any model to any other model without losing information
defined by the position of data values or the relations between them.
Some of these incompatibilities are obvious. For example, a data model designed for
time series data may not be able to accommodate multi-dimensional
arrays. Others are more subtle. For example, a Sequence looks very
similar to a collection of Arrays in many respects, but this does not
mean they can always be translated from one to the other. For example,
some APIs return only one Sequence "instance" at a time. This means that
even if a Sequence of sets of three numbers is more or less the same
shape as three parallel Arrays, it will be very difficult to model the
one kind of behavior on the other kind of API.</p>
</div>
<div class="paragraph">
<p>However, even though the general problem is not solvable, there are many
useful translations that can be done and there are many others that are
still useful despite their inherent information loss.</p>
</div>
<div class="paragraph">
<p>For example, consider a relational structure below, which contains two nested
Sequences. The outer sequence represents all the XBT drops in a cruise; the inner sequence represents each XBT drop. The JGOFS API was designed to use this sort of data type.</p>
</div>
<div class="listingblock">
<div class="title">Example Data Description of XBT Cruise</div>
<div class="content">
<pre>Dataset {
   Sequence {
      Int32 id;
      Float64 latitude;
      Float64 longitude;
      Sequence {
         Float64 depth;
         Float64 temperature;
      } xbt_drop;
   } station;
} cruise;</pre>
</div>
</div>
<div class="paragraph">
<p>Note that each entry in the cruise sequence is composed of a tuple of
data values (one of which is itself a sequence). Were we to arrange
these data values as a table, they might look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>id   lat   lon   depth  temp
1   10.8   60.8    0     70
                  10     46
                  20     34
2   11.2   61.0    0     71
                  10     45
                  20     34
3   11.6   61.2    0     69
                  10     47
                  20     34</pre>
</div>
</div>
<div class="paragraph">
<p>This can be made into an array, although doing so introduces redundancy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>id   lat   lon   depth  temp
1   10.8   60.8    0     70
1   10.8   60.8   10     46
1   10.8   60.8   20     34
2   11.2   61.0    0     71
2   11.2   61.0   10     45
2   11.2   61.0   20     34
3   11.6   61.2    0     69
3   11.6   61.2   10     47
3   11.6   61.2   20     34</pre>
</div>
</div>
<div class="paragraph">
<p>The data is now in a form that may be read by an API such as netCDF. However,
consider the analysis stage. Suppose a user wants to see graphs of each
station&#8217;s data. It is not obvious simply from the arrangement of the
array where one station stops and the next one begins. Analyzing data in
this format is not a function likely to be accommodated by a program
that uses the netCDF API, even though it is theoretically possible to
implement.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truedata-access-protocol-dap"><a class="anchor" href="#truedata-access-protocol-dap"></a>2.1.2. Data Access Protocol (DAP)</h4>
<div class="paragraph">
<p>The OPeNDAP Data Access Protocol defines how an OPeNDAP client and
an OPeNDAP server communicate with one another to pass data from the
server to the client. The job of the functions in the OPeNDAP client
library is to translate data from the DAP into the form expected by the
data access API for which the OPeNDAP library is substituting. The job
of an OPeNDAP server is to translate data stored on a disk (in whatever
format they happen to be stored in) to the DAP for transmission to the
client.</p>
</div>
<div class="paragraph">
<p>The DAP consists of several components:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>An "intermediate data representation" for data sets. This is used to
transport data from the remote source to the client. The data types that
make up this representation may be thought of as the OPeNDAP data model.</p>
</li>
<li>
<p>A format for the "ancillary data" needed to translate a data set
into the intermediate representation and to translate the intermediate
representation into the target data model. The ancillary data in turn
consists of two pieces:</p>
<div class="ulist">
<ul>
<li>
<p>A description of the shape and size of the various data types stored
in some given data set. This is called the Data Description Structure
(DDS).</p>
</li>
<li>
<p>Capsule descriptions of some of the properties of the data stored in
some given data set. This is the Data Attribute Structure (DAS).</p>
</li>
</ul>
</div>
</li>
<li>
<p>A "procedure" for retrieving data and ancillary data from remote
platforms.</p>
</li>
<li>
<p>An "API" consisting of OPeNDAP classes and data access calls
designed to implement the protocol,</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The intermediate data representation and the ancillary data formats are
introduced in <a href="./UserGuideOPeNDAPMessages.txt">OPeNDAP
Messages</a>, as are the steps of the procedure. The actual details of the
software used to implement these formats and procedures is a subject of
the documentation of the respective software.</p>
</div>
</div>
<div class="sect3">
<h4 id="truedata-representation"><a class="anchor" href="#truedata-representation"></a>2.1.3. Data Representation</h4>
<div class="paragraph">
<p>There are many popular data storage formats, and many more than that in
use. When these formats are optimized, they are optimized for data
storage and are not generally suitable for data transmission. In order
to transmit data over the Internet, OPeNDAP must translate the data
model used by a particular storage format into the data model used for
transmission.</p>
</div>
<div class="paragraph">
<p>If the data model for transmission is defined to be general enough to
encompass the abstractions of several data models for storage, then this
intermediate representationthe transmission formatcan be used to
translate between one data model and another.</p>
</div>
<div class="paragraph">
<p>The OPeNDAP data model consists of a fairly elementary set of base
types combined with an advanced set of constructs and operators that
allows it to define data types of arbitrary complexity. This way, the
OPeNDAP data access protocol can be used to transmit data from virtually
any data storage format.</p>
</div>
<div class="paragraph">
<p>OPeNDAP comprises the following elements:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Base Types</dt>
<dd>
<p>These are the simple data types, like integers, floating point
numbers, strings, and character data.</p>
</dd>
<dt class="hdlist1">Constructor</dt>
<dd>
<p>Types These are the more complex data types that can be constructed
from the simple base types. Examples are structures, sequences,
arrays, and grids.</p>
</dd>
<dt class="hdlist1">Operators</dt>
<dd>
<p>Access to data can be operationally defined with operators defined on the various data types.</p>
</dd>
<dt class="hdlist1">External Data Representation</dt>
<dd>
<p>In order to transmit the data across the Internet, there needs to be a machine-independent definition of what the various data types look like. For example, the client and server need to agree on the most significant digit of a particular byte in the message</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>These elements are defined in greater detail in the sections that follow.</p>
</div>
<div class="sect4">
<h5 id="truebase-types"><a class="anchor" href="#truebase-types"></a>Base Types</h5>
<div class="paragraph">
<p>The OPeNDAP data model uses the concepts of variables and operators.
Each data set is defined by a set of one or more variables, and each
variable is defined by a set of attributes. A variable&#8217;s
<em>attributes</em>such as units, name and typemust not be confused with
the data <em>value</em> (or values) that may be represented by that variable. A
variable called <em>time</em> may contain an integer number of minutes, but it
does not contain a particular number of minutes until a context, such as
a specific event recorded in a data set, is provided. Each variable may
further be the object of an operator that defines a subset of the
available data set.</p>
</div>
<div class="paragraph">
<p>Variables in the DAP have two forms. They are either base types or type
constructors. Base type variables are similar to predefined variables in
procedural programming languages like C or Fortran (such as int or
integer*4). While these have an internal structure, it is not
possible to access parts of that structure using the DAP. Base type
variables in the DAP have two predefined attributes (or
characteristics): name and type. They are defined as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Name</dt>
<dd>
<p>A unique identifier that can be used to reference the part of the
dataset associated with this variable.</p>
</dd>
<dt class="hdlist1">Type</dt>
<dd>
<p>The data type contained by the variable. Data types include the following:</p>
<div class="ulist">
<ul>
<li>
<p>Byte is a single byte of data. This is the same as unsigned char in
ANSI C.</p>
</li>
<li>
<p>Int16 is a 16 bit two&#8217;s complement integer. This is synonymous with long
in ANSI C when that type is implemented as 16 bits.</p>
</li>
<li>
<p>UInt16 is a 16 bit unsigned integer.</p>
</li>
<li>
<p>Int32 is a 32 bit two&#8217;s complement integer. This is synonymous with long
in ANSI C when that type is implemented as 32 bits.</p>
</li>
<li>
<p>UInt32 is a 32 bit unsigned integer.</p>
</li>
<li>
<p>Float32 is the IEEE 32 bit floating point data type.</p>
</li>
<li>
<p>Float64 is the IEEE 64 bit floating point data type.</p>
</li>
<li>
<p>String is a sequence of bytes terminated by a null character.</p>
</li>
<li>
<p>Url is a string containing an OPeNDAP URL.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The declaration in a
<a href="./UserGuideOPeNDAPMessages.txt#Data_Descriptor_Structure">DDS</a>
of a variable of any of the base types is simply the type of the
variable followed by its name and a semicolon. For example, to declare
a month variable to be a 32-bit integer, you would type&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Int32 month;</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="trueconstructor-types"><a class="anchor" href="#trueconstructor-types"></a>Constructor Types</h5>
<div class="paragraph">
<p>Constructor types, such as arrays and structures, describe the grouping
of one or more variables within a dataset. These classes are used to
describe different types of relations between the variables that
comprise the dataset. For example, an array might indicate that the
variables grouped are all measurements of the same quantity with some
spatial relation to one another, whereas a structure might indicate a
grouping of measurements of disparate quantities that happened at the
same place and time.</p>
</div>
<div class="paragraph">
<p>There are six classes of type constructor variables defined by
OPeNDAP: arrays, structures, sequences, functions, and grids. These are explained below.</p>
</div>
<div class="paragraph">
<div class="title">Array</div>
<p>An array is a one dimensional indexed data structure as defined by ANSI
C. Multidimensional arrays are defined as arrays of arrays. An array may
be subsampled using subscripts or ranges of subscripts enclosed in
brackets ([]). For example, temp[3][4] would indicate the value in the
fourth row and fifth column of the temp array. (As in C, OPeNDAP array
indices start at zero.)</p>
</div>
<div class="paragraph">
<p>A chunk of an array may be specified with subscript ranges; the array
temp[2:10][3:4] indicates an array of nine rows and two columns whose
values have been lifted intact from the larger temp array.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>hyperslab</em> may be selected from an array with a <em>stride</em> value. The
array represented by temp[2:2:10][3:4] would have only five rows; the
middle value in the first subscript range indicates that the output
array values are to be selected from alternate input array rows. The
array temp[2:3:10][3:4] would select from every third row, and so on.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A DDS declaration of a 5x6 array of floating point numbers would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Float64 data[5][6];</pre>
</div>
</div>
<div class="paragraph">
<p>In addition to its magnitude, every dimension of an array may also have
a name. The previous declaration could be written as&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Float64 data[height = 5][width = 6];</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Structure</div>
<p>A Structure is a class that may contain several variables of different
classes. However, though it implies that its member variables are
related somehow, it conveys no relational information about them. The
structure type can also be used to group a set of unrelated variables
together into a single dataset. The "dataset" class name is a synonym
for structure.</p>
</div>
<div class="paragraph">
<p>A DDS Structure declaration containing some data and the month in which the
data was taken might look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   Structure {
      Int32 month;
      Float64 data[5][6];
   } measurement;</pre>
</div>
</div>
<div class="paragraph">
<p>Use the <strong>.</strong> operator to refer to members of a Structure. For example,
measurement.month would identify the integer member of the Structure
defined in the above declaration.</p>
</div>
<div class="paragraph">
<div class="title">Sequence</div>
<p>A Sequence is an ordered set of variables, each of which may have several
values. The variables may be of different classes. Each element of a
Sequence consists of a value for each member variable, so a Sequence is
sort of like an ordered set of Structures.</p>
</div>
<div class="paragraph">
<p>Thus a Sequence can be represented as&#8230;&#8203;</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>00</sub></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>01</sub></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>0n</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>10</sub></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>11</sub></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>1n</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>20</sub></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>21</sub></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>2n</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>i0</sub></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>i1</sub></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">s<sub>in</sub></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Every instance of Sequence S has the same number, order, and class of
its member variables. A Sequence implies that each of the variables is
related to each other in some logical way. For example, a Sequence
containing position and temperature measurements might imply that each
temperature measurement was taken at the corresponding position. A
Sequence is different from a Structure because its constituent variables
have several instances while a Structure&#8217;s variables have only one
instance (or value).</p>
</div>
<div class="paragraph">
<p>A Sequence declaration is similar to a Structure&#8217;s declaration. For example, the
following would define a Sequence that would contain many members like
the Structure defined above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   Sequence {
      Int32 month;
      Float64 data[5][6];
   } measurement;</pre>
</div>
</div>
<div class="paragraph">
<p>Note that, unlike an Array, a Sequence has no index. This means that a
Sequence&#8217;s values are not simultaneously accessible. Instead, a Sequence
has an implied <em>state</em>, corresponding to a single element in the
Sequence.</p>
</div>
<div class="paragraph">
<p>As with a Structure, the variable measurement.month has a single value.
The distinction is that this variable&#8217;s value changes depending on the
state of the Sequence. You can think of a Sequence as composed of the
data you get from successive reads of data from a file. The data values
available at any point are the last values read from the file, and you
will not have immediate access to any of the other values in that file.</p>
</div>
<div class="paragraph">
<div class="title">Grid</div>
<p>A Grid is an association of an N dimensional array with N named vectors
(one-dimensional arrays), each of which has the same number of elements
as the corresponding dimension of the array. Each data value in the Grid
is associated with the data values in the vectors associated with its
dimensions.</p>
</div>
<div class="paragraph">
<p>For example, consider an array of temperature values that has six
columns and five rows. Suppose that this array represents measurements
of temperature at five different depths in six different locations. The
problem is the indication of the precise location of each temperature
measurement, relative to one another.</p>
</div>
<div class="paragraph">
<p>If the six locations are evenly spaced, and the five depths are also
evenly spaced, then the data set can be completely described using the
array and two scalar values indicating the distance between adjacent
vertices of the array. However, if the spacing of the measurements is
<em>not</em> regular, as in the figure below, then an array will be inadequate. To adequately describe the positions of each
of the points in the grid, the precise location of each column and row
must be described.</p>
</div>
<div class="paragraph">
<div class="title">A Sample of an Irregular Grid of Data</div>
<p><span class="image"><img src="./Images/Grid.gif" alt="Grid.gif"></span></p>
</div>
<div class="paragraph">
<p>The secondary vectors in the Grid data type provide a solution to this
problem. Each member of these vectors associates a value for all the
data points in the corresponding rank of the array. The value can
represent location or time or some other quantity and can even be a
constructor data type. The following declaration would define a data
type that could accommodate a structure like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> Grid {
      Float64 data[distance = 6][depth = 5];
      Float64 distance[6];
      Float64 depth[5];
   } measurement;</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, a vector called <em>depth</em> contains five values, each
corresponding to the depths of each row of the array, while another
vector called <em>distance</em> contains the scalar distance between the location
of the corresponding column and a reference point.</p>
</div>
<div class="paragraph">
<p>In a similar arrangement, a location array could contain six
(latitude, longitude) pairs indicating the absolute location of each
column of the grid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    Grid {
      Float64 data[distance = 6][depth = 5];
      Float64 depth[5];
      Array Structure {
         Float64 latitude;
         Float64 longitude;
      } location[6];
   } measurement;</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="trueexternal-data-representation"><a class="anchor" href="#trueexternal-data-representation"></a>External Data Representation</h5>
<div class="paragraph">
<p>Now that you know what the data types are, the next step is to define
their external representation. The data access protocol defines an external
representation for each of the base-type and constructor-type variables.
This is used when an object of the given type is transferred from one
computer to another. Defining a single external representation makes
possible the translation of variables from one computer to another when
those computers use different internal representations for those
variable types.</p>
</div>
<div class="paragraph">
<p>The data access protocol uses Sun Microsystems' XDR protocol for the
external representation of all of the base type variables. The table
below shows the XDR types used to represent the various base type
variables.</p>
</div>
<div class="paragraph">
<p>The XDR data types corresponding to OPeNDAP base-type variables.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Base Type</th>
<th class="tableblock halign-left valign-top">XDR Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr byte</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Int16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr int16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UInt16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr unsigned int16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Int32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr int32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UInt32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr unsigned int32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr float</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr double</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xdr string</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A base type variable is always either transmitted or not. You will not see a fraction of an String type transmitted. Constructor type variables, being composed of the bast type variables, are transmitted as sets of base type variables, and these may be sampled, with a <a href="./UserGuideOPeNDAPMessages.txt#Constraint_Expression">constraint expression</a>.</p>
</div>
<div class="paragraph">
<p>Constraint expressions do not affect <em>how</em> a base-type variable is
transmitted from a client to a server; they determine <em>if</em> a variable is
to be transmitted. For constructor type variables, however, constraint
expressions may be used to exclude portions of the variable. For
example, if a constraint expression is used to select the first three of
six fields in a structure, the last three fields of that structure are
not transmitted by the server.</p>
</div>
<div class="paragraph">
<p>What remains is to define the external representation of the constructor
type variables. For each of the six constructor types these definitions
are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Array</dt>
<dd>
<p>An Array is sent using the xdr_array function. This means that an
Array of 100 Int32s is sent as a single block of 100 xdr longs, not
100 separate "xdr long"s.</p>
</dd>
<dt class="hdlist1">Structure</dt>
<dd>
<p>A Structure is sent by encoding each field in the order those fields
are declared in the DDS and transmitting the resulting block of bytes.</p>
</dd>
<dt class="hdlist1">Sequence</dt>
<dd>
<p>A Sequence is transmitted by encoding each item in the sequence as if
it were a Structure, and ending each such structure after the other,
in the order of their occurrence in the sequence. The entire sequence
is sent, subject to the constraint expression. In other words, if no
constraint expression is supplied then the entire sequence is sent.
However, if a constraint expression is given all the records in the
sequence that satisfy the expression are sent.</p>
</dd>
<dt class="hdlist1">Grid</dt>
<dd>
<p>A Grid is encoded as if it were a Structure (one component after the
other, in the order of their declaration).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The external data representation used by OPeNDAP
may be compressed, depending on the configuration of the respective
machines. The compression is done using the gzip program. Only the data
transmission itself will be affected by this; the transmission of the
ancillary data is not compressed.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueopendap-messages"><a class="anchor" href="#trueopendap-messages"></a>3. OPeNDAP Messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides A closer look at the messages passed to and from an OPeNDAP server and the various services that may be provided. Also reviews constraint expressions, which can be used to select data from specific datasets. Researchers who will use OPeNDAP to get data for analysis will find this useful.</p>
</div>
<div class="sect2">
<h3 id="truethe-opendap-messages"><a class="anchor" href="#truethe-opendap-messages"></a>3.1. The OPeNDAP Messages</h3>
<div class="paragraph">
<p>An OPeNDAP server is in the business of making replies to queries for
data and other services. The queries come in the form of specially
formed URLs, and the replies consist of MIME documents whose contents are
described in the sections below. (Technically speaking, the response
document headers are not exactly right, but they function in the same
way.)</p>
</div>
<div class="paragraph">
<p>All the requests start with a root URL, and they all are in the form of
a GET, using a suffix on the root URL and a constraint expression to
indicate which service is requested and what the parameters are.</p>
</div>
<div class="paragraph">
<p>(There is also an experimental SOAP interface that uses a POST to
request data.)</p>
</div>
<div class="paragraph">
<p>The replies come in three categories: Ancillary data, Data, and the
other services. The following sections cover each of them, beginning
with the ancillary data messages.</p>
</div>
<div class="sect3">
<h4 id="trueancillary-data"><a class="anchor" href="#trueancillary-data"></a>3.1.1. Ancillary Data</h4>
<div class="paragraph">
<p>In order to use a data set, a user must have some information at his
or her disposal that is not strictly included in the data itself. This
information, called ancillary data, describes the shape and size of the
data types that make up the data set, and provides information about
many of the data set&#8217;s attributes. OPeNDAP uses two different
structures to supply this ancillary information about an OPeNDAP data
set. The Dataset Descriptor Structure (DDS) describes the data set&#8217;s
structure and the relationships between its variables, and the Dataset
Attribute Structure (DAS) provides information about the variables
themselves. Both structures are described in the following sections.</p>
</div>
<div class="sect4">
<h5 id="truedataset-descriptor-structure-dds"><a class="anchor" href="#truedataset-descriptor-structure-dds"></a>Dataset Descriptor Structure (DDS)</h5>
<div class="paragraph">
<p>In order to translate data from one data model into another, OPeNDAP
must have some knowledge about the types of the variables and their
semantics that comprise a given data set. It must also know something
about the relations of those variableseven those relations which are
only implicit in the dataset&#8217;s own API. This knowledge about the
dataset&#8217;s structure is contained in a text description of the dataset
called the "Dataset Description Structure" (DDS).</p>
</div>
<div class="paragraph">
<p>The DDS does not describe how the information in the data set is
physically stored, nor does it describe how the "native" API is used to
access that data. Those pieces of information are contained in the API
itself and in the OPeNDAP server, respectively. The DDS contains
knowledge about the dataset variables and the interrelations of those
variables. The server uses the DDS to describe the structure of a
particular dataset to a client.</p>
</div>
<div class="paragraph">
<p>The DDS is a textual description of the variables and their classes that
make up some data set. The DDS syntax is based on the variable
declaration and definition syntax of C and C++. A variable that is a
member of one of the base type classes is declared by writing the class
name followed by the variable name. The type constructor classes are
declared using C&#8217;s brace notation. A grammar for the syntax is given in
the table below. (Note that the Dataset keyword has the same syntactic
function as Structure but is used for the specific job of enclosing the
entire data set even when it does not technically need an enclosing
element.)</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Dataset Descriptor Structure Syntax</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">"data set</th>
<th class="tableblock halign-left valign-top">Dataset \{ declarations } name;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"declaration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List declaration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"base-type" var;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Structure \{"declarations"} "var";</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sequence \{"declarations"} "var";</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grid \{ ARRAY : "declaration" MAPS: "declarations" } "var";</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"base-type"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Int32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UInt32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"var"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"name"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"name array-decl"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"array-decl"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[integer ]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">["name" = integer]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"name"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-chosen name of data set, variable, or array dimension.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A DDS is returned in response to a request for the DDS, and it is also
part of the data return. The request URL for the DDS is composed of the
root URL, with the suffix ".dds". For example, if a data set is located
at http:/tests.opendap.org/data/mydata.dat then you&#8217;ll find the DDS at
http:/tests.opendap.org/data/mydata.dat.dds</p>
</div>
<div class="paragraph">
<p>An example DDS entry is shown below. (There are more in
<a href="./UserGuideDataModel.txt">Data_Models</a>, where there&#8217;s also an
explanation of the information implied by the data model.)</p>
</div>
<div class="listingblock">
<div class="title">An Example Dataset Descriptor Entry</div>
<div class="content">
<pre> Dataset {
  Int32 catalog_number;
  Sequence {
    String experimenter;
    Int32 time;
    Structure {
      Float64 latitude;
      Float64 longitude;
    } location;
    Sequence {
      Float64 depth;
      Float64 salinity;
      Float64 oxygen;
      Float64 temperature;
    } cast;
  } station;
} data;</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="truedataset-attribute-structure-das"><a class="anchor" href="#truedataset-attribute-structure-das"></a>Dataset Attribute Structure (DAS)</h5>
<div class="paragraph">
<p>The "Dataset Attribute Structure" (DAS) is used to store attributes for
variables in the dataset. An attribute is any piece of information about
a variable that the creator wants to bind with that variable <em>excluding</em>
the type and size, which are part of the DDS. Typical attributes might
range from error measurements to text describing how the data was
collected or processed.</p>
</div>
<div class="paragraph">
<p>In principle, attributes are not processed by software, other than to be
displayed. However, many systems rely on attributes to store extra
information that is necessary to perform certain manipulations of data.
In effect, attributes are used to store information that is used "by
convention" rather than "by design". OPeNDAP can effectively support
these conventions by passing the attributes from data set to user
program via the DAS. (Of course, OPeNDAP cannot enforce conventions in
datasets where they were not followed in the first place.)</p>
</div>
<div class="paragraph">
<p>The syntax for attributes in a DAS is shown in the table below. Every
attribute of a variable is a triple: attribute name, type, and value. The
name of an attribute is an identifier, consisting of alphanumeric
characters, plus "_" and "/". The type of an attribute may be one of:
"Byte", "Int32", "UInt32", "Float64", "String" or "Url". An attribute
may be scalar or vector. In the latter case the values of the vector are
separated by commas (,) in the textual representation of the DAS.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Dataset Attribute Structure Syntax</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">"DAS"</th>
<th class="tableblock halign-left valign-top">Attributes "{var-attr-list}"</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"var-attr-list"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"var-attr"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"var-attr-list" "var-attr"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(empty list)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"var-attr"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"variable" \{"attr-list"}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"container" {var-attr-list}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"global-attr"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"global-attr"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global "variable" \{"attr-list"}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attr-list"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attr-triple;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attr-list" "attr-triple"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"(empty list)"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attr-triple"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attr-type attribute attr-val-vec;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attr-val-vec"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attr-val"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attr-val-vec", "attr-val"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attr-val"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">numeric value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"variable"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"string"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attr-type"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"Byte"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Int32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UInt32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"variable"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user-chosen variable name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"attribute"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user-chosen attribute name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"container"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user-chosen container name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A DAS is returned in response to a request for the DAS. Unlike the DDS,
it is not part of the data return. The request URL for the DAS is
composed of the root URL, with the suffix ".das". For example, if a data
set is located at http:/tests.opendap.org/data/mydata.dat then you&#8217;ll
find the DAS at http:/tests.opendap.org/data/mydata.dat.das</p>
</div>
<div class="paragraph">
<div class="title">Containers</div>
<p>An attribute can contain another attribute, or a set of attributes. This
is roughly comparable to the way compound variables can contain other
variables in the DDS. The container defines a new lexical scope for the
attributes it contains.</p>
</div>
<div class="paragraph">
<p>Consider the following example:</p>
</div>
<div class="listingblock">
<div class="title">An Example of Attribute Containers</div>
<div class="content">
<pre> Attributes {
   Bill {
      String LastName "Evans";
      Byte Age 53;
      String DaughterName "Matilda";
      Matilda {
         String LastName "Fink";
         Byte Age 26;
      }
   }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Here, the attribute Bill.LastName would be associated with the string
"Evans", and Bill.Age with the number 53. However, the attribute
Bill.Matilda.LastName would be associated with the string "Fink" and
Bill.Matilda.Age with the number 26.</p>
</div>
<div class="paragraph">
<p>Using container attributes as above, you can construct a DAS that
exactly mirrors the construction of a DDS that uses compound data types,
like "Structure" and "Sequence". Note that though the Bill attribute is
a container, it has attributes of its own, as well. This exactly
corresponds to the situation where, for example, a "Sequence" would have
attributes belonging to it, as well as attributes for each of its member
variables. Suppose the Sequence represented a single time series of
measurements, where several different data types are measured at each
time. The Sequence attributes might be the time and location of the
measurements, and the individual variables might have attributes
describing the method or accuracy of that measurement.</p>
</div>
<div class="paragraph">
<div class="title">Global Attributes</div>
<p>A "global attribute" is not bound to a particular identifier in a
dataset; these attributes are stored in one or more containers with the
name Global or ending with _Global. Global attributes are used to
describe attributes of an entire dataset. For example, a global
attribute might contain the name of the satellite or ship from which the
data was collected. Here&#8217;s an example:</p>
</div>
<div class="listingblock">
<div class="title">An Example of Global Attributes</div>
<div class="content">
<pre> Attributes {
   Bill {
      String LastName "Evans";
      Byte Age 53;
      String DaughterName "Matilda";
      Matilda {
         String LastName "Fink";
         Byte Age 26;
      }
   }
   Global {
      String Name "FamilyData";
      String DateCompiled "11/17/98";
   }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Global attributes can be used to define a certain view of a dataset.
For example, consider the following DAS:</p>
</div>
<div class="listingblock">
<div class="title">An Example of Global Attributes In Use</div>
<div class="content">
<pre> Attributes {
   CTD {
      String Ship "Oceanus";
      Temp {
         String Name "Temperature";
      }
      Salt {
         String Name "Salinity";
      }
   }
   Global {
      String Names "OPeNDAP";
   }
   FNO_Global {
      String Names "FNO";
      CTD {
         Temp {
            String FNOName "TEMPERATURE";
         }
         Salinity {
            String FNOName "SALINITY";
         }
      }
   }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Here, a dataset contains temperature and salinity measurements. To aid
processing of this dataset by some OPeNDAP client, long names are
supplied for the Temp and Salt variables. However, a different client
(FNO) spells variable names differently. Since it is seldom practical to
come up with general-purpose translation tables, the dataset
administrator has chosen to include these synonyms under the FNO_Global
attributes, as a convenience to those users.</p>
</div>
<div class="paragraph">
<p>Using global attributes, a dataset or catalog administrator can create a
layer of attributes to make OPeNDAP datasets conform to several
different dataset naming standards. This becomes significant when trying
to compile an OPeNDAP dataset database.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truedata-transmission"><a class="anchor" href="#truedata-transmission"></a>3.1.2. Data Transmission</h4>
<div class="paragraph">
<p>An OPeNDAP server returns data to a client in response to a request URL
composed of the root URL, with the suffix ".dods". For example, if a
data set is located at http:/tests.opendap.org/data/mydata.dat then
you&#8217;ll find the data at http:/tests.opendap.org/data/mydata.dat.dods</p>
</div>
<div class="paragraph">
<p>The data is returned in a MIME document that consists of two parts: the
DDS and the data encoded according to the description in
<a href="./UserGuideDataModel.txt#External_Data_Representation">External
Data Representation</a>. (The returned document is sometimes called the
DataDDS.) The two parts are separated by this string:</p>
</div>
<div class="paragraph">
<p>Data:&lt;CR&gt;&lt;NL&gt;</p>
</div>
<div class="paragraph">
<p>The DDS included is modified according to any constraint expression that may have been
applied. That is, the returned DDS describes the returned data.</p>
</div>
<div class="paragraph">
<p>For example, consider a a request for data from a data set with a DDS
like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Dataset {
    Grid {
      Array:
        Int16 sst[time = 1857][lat = 89][lon = 180];
      Maps:
        Float64 time[time = 1857];
        Float32 lat[lat = 89];
        Float32 lon[lon = 180];
    } sst;
    Float64 time_bnds[time = 1857][nbnds = 2];
} sst.mnmean.nc;</pre>
</div>
</div>
<div class="paragraph">
<p>This is the DDS of a typical gridded dataset. Suppose, though, that you ask for only the time values of the data set. The DDS of the result will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Dataset {
    Float64 time[time = 1857];
} sst.mnmean.nc;</pre>
</div>
</div>
<div class="paragraph">
<p>This DDS will be included in the DataDDS return, ahead of the encoded array of 1857 64-bit time values.</p>
</div>
<div class="paragraph">
<p>For more information about sampling OPeNDAP data sets, see the section
below about constraint expressions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A request for data from an OPeNDAP client will generally make three different service requests, for data attributes
(DAS), data descriptors (DDS), and data. The prepackaged OPeNDAP
clients do this for you, so you may not be aware that three requests are made for each URL.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="trueother-services"><a class="anchor" href="#trueother-services"></a>3.1.3. Other Services</h4>
<div class="paragraph">
<p>In addition to the data, DSS, and DAS, an OPeNDAP server <em>may</em> provide
any or all of the services described in the sections that follow.</p>
</div>
<div class="sect4">
<h5 id="trueascii-service"><a class="anchor" href="#trueascii-service"></a>ASCII Service</h5>
<div class="paragraph">
<p>This service returns an ASCII representation of the requested data. This
can make the data available to a wide variety of standard web browsers.
This service is activated when the server receives a URL ending with .asc or .ascii.</p>
</div>
<div class="paragraph">
<p>Note that unlike the data response, the ASCII response does not contain
a DDS for the returned data. Instead it just returns the simple text
message.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
While ASCII is fine for moving small amounts of data, it generally is best to move data in binary whenever possible becuase servers can generate binary data more quickly than ASCII data, and binary data is more compact. You can then process locally if you need ASCII. To process binary data, you could use getdap if you retrieve DAP2 binary response (.dods); getdap4 if you retrieve a DAP4 binary response; or ncdump for a NetCDF3 or NetCDF4 binary response.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <a href="./QuickStart.txt">Quick Start Guide</a> contains examples of the ASCII response.</p>
</div>
</div>
<div class="sect4">
<h5 id="trueinfo-service"><a class="anchor" href="#trueinfo-service"></a>Info Service</h5>
<div class="paragraph">
<p>The Info service formats information from a data set&#8217;s DAS and DDS into
a single HTML document suitable for viewing in a web browser. The
returned document may include information about both the data server
itself (such as server functions implemented) and the dataset
referenced in the URL. The server administrator determines what
information is returned in response to such a request. The services is
activated by a URL ending in .info.</p>
</div>
<div class="paragraph">
<p>Click <a href="http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.info" class="bare">http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.info</a> to see an Info response.</p>
</div>
</div>
<div class="sect4">
<h5 id="truewww-interface-service"><a class="anchor" href="#truewww-interface-service"></a>WWW Interface Service</h5>
<div class="paragraph">
<p>The WWW service is another way to browse a server&#8217;s data interactively.
You can use a browser to look at an individual data file, or a
directory of files (or "files" since a server may contain logical
entities that look like files).</p>
</div>
<div class="paragraph">
<p>The server uses a data set&#8217;s DDS and DAS to construct a web form you can
use to construct a URL that subsamples the data set (using a
constraint expression). You can copy the
resulting URL into another browser, or use one of the buttons on the
form to download data.</p>
</div>
<div class="paragraph">
<div class="title">OPeNDAP Server Data Access Form</div>
<p><span class="image"><img src="./images/Reynolds_ifh.png" alt="Reynolds ifh.png"></span></p>
</div>
<div class="paragraph">
<p>If a server receives a URL that either ends in a slash (/) or
contents.html, it returns a web page that looks like a standard web
browser&#8217;s directory view.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/Test.oopendap.org_directory_view.png" alt="Test.oopendap.org directory view.png"></span></p>
</div>
<div class="paragraph">
<p>Each link in the directory view opens up the WWW service version of that
data.</p>
</div>
<div class="paragraph">
<p>The <a href="./QuickStart.html">Quick Start Guide</a>
contains more information about browsing OPeNDAP data interactively.</p>
</div>
</div>
<div class="sect4">
<h5 id="trueversion-service"><a class="anchor" href="#trueversion-service"></a>Version Service</h5>
<div class="paragraph">
<p>This service returns the version information for the OPeNDAP server
software running on the server. This service is triggered by a URL
ending with .ver. The return is a short text message containing the
relevant version numbers.</p>
</div>
</div>
<div class="sect4">
<h5 id="truesoap"><a class="anchor" href="#truesoap"></a>SOAP</h5>
<div class="paragraph">
<p>The OPeNDAP server provided by the OPeNDAP group contains an
experimental SOAP service, enabling users to make requests and get
responses by exchanging SOAP XML documents. This is an experimental
service, and if you&#8217;re writing an application depending on it, it&#8217;s best
to contact the OPeNDAP developer team.</p>
</div>
</div>
<div class="sect4">
<h5 id="trueddx"><a class="anchor" href="#trueddx"></a>DDX</h5>
<div class="paragraph">
<p>The DDX is an XML version of the DAS and DDS, combined. It is triggered
by a URL ending with .ddx. You can find the schema for the DDX at
<a href="http://xml.opendap.org/dap/dap2.xsd" class="bare">http://xml.opendap.org/dap/dap2.xsd</a>.</p>
</div>
<div class="paragraph">
<p>The DDX is designed to contain data, too, but this is not yet implemented. You will see an empty dataBLOB element at the end of each
DDX, which will eventually hold returned data.</p>
</div>
<div class="paragraph">
<p>The DDX response can be modified with a constraint expression. Like the DDS, the
DDX will describe only the data actually returned.</p>
</div>
<div class="paragraph">
<p>The DDX and the DataDDX (containing the dataBLOB) are the nucleus of
what will become version 4 of the DAP.</p>
</div>
</div>
<div class="sect4">
<h5 id="truethredds"><a class="anchor" href="#truethredds"></a>THREDDS</h5>
<div class="paragraph">
<p>Some OPeNDAP servers (including <a href="./Hyrax.txt">Hyrax</a>, the
server supplied by the OPeNDAP group) can make sensible replies to
requests for THREDDS catalog information. This can serve to "advertise"
a server&#8217;s data by having it appear in catalogs accumulated by THREDDS
browsers. For more information about THREDDS, see the
<a href="http://www.unidata.ucar.edu/projects/THREDDS/tech/TDS.html">THREDDS</a> home
page.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueconstraint-expressions"><a class="anchor" href="#trueconstraint-expressions"></a>3.2. Constraint Expressions</h3>
<div class="paragraph">
<p>Using OPeNDAP, you can subsample the data you are looking at. That is, you can request an entire data file or just a small piece of it.</p>
</div>
<div class="sect3">
<h4 id="trueselecting-data-using-constraint-expressions"><a class="anchor" href="#trueselecting-data-using-constraint-expressions"></a>3.2.1. Selecting Data: Using Constraint Expressions</h4>
<div class="paragraph">
<p>The URL such as this one&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz</pre>
</div>
</div>
<div class="paragraph">
<p>&#8230;&#8203;refers to the entire dataset contained in the mnmean.nc file. A user
may also choose to sample the dataset simply by modifying the submitted URL. The constraint expression attached to the URL directs
that the data set specified by the first part of the URL be sampled to
select only the data of interest from a dataset.</p>
</div>
<div class="paragraph">
<p>Because the expression modifies the URL used to access data, this works
even for programs that do not have a built-in way to accomplish such
selections. This can vastly reduce the amount of data a program needs to
process and thus reduce the network load of transmitting the given data to the client.</p>
</div>
<div class="sect4">
<h5 id="trueconstraint-expression-syntax"><a class="anchor" href="#trueconstraint-expression-syntax"></a>Constraint Expression Syntax</h5>
<div class="paragraph">
<p>A constraint expression is appended to the target URL following a question mark, as in the following examples:</p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;/nc/sst.mnmean.nc.gz?sst[3][4][5] <a href="http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.asc?sst%5B3%5D%5B4%5D%5B5%5D">Click here for sample output.</a></p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;/nc/sst.mnmean.nc.gz?sst[0:1][13:16][103:105]
<a href="http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.asc?sst%5B0:1%5D%5B13:16%5D%5B103:105%5D">Click here for sample output.</a></p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;/n&#8230;&#8203;/ff/gsodock.dat?Time,Sea_Tempc/sst.mnmean.nc.gz?geogrid(sst,62,206,56,210,"19722&lt;time&lt;19755")
<a href="http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.asc?geogrid(sst,62,206,56,210,%2219722%3Ctime%3C19755%22)">Click here for sample output.</a></p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;/ff/gsodock.dat?Time,Sea_Temp
<a href="http://test.opendap.org/dap/data/ff/gsodock.dat.asc?Time,Sea_Temp">Click here for sample output.</a></p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;/ff/gsodock.dat?Time,Sea_Temp&amp;Time%3C35234.1
<a href="http://test.opendap.org/dap/data/ff/gsodock.dat.asc?Time,Sea_Temp&amp;Time%3C35234.1">Click here for sample output.</a></p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;/ff/gsodock.dat?Time,Sea_Temp&amp;Time%3C35234.1&amp;Sea_Temp%3C18
<a href="http://test.opendap.org/dap/data/ff/gsodock.dat.asc?Time,Sea_Temp&amp;Time%3C35234.1&amp;Sea_Temp%3C18">Click here for sample input.</a></p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
An OPeNDAP data set can contain an extraordinary amount of
data. You almost certainly do <em>not</em> want to make an unconstrained
request to a data set without knowing something about it. Familiarize
yourself with the DDS and DAS before asking for data.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A constraint expression consists of two parts: a projection and a
selection, separated by an ampersand (&amp;). Either part may contain
several sub-expressions. Either part or both parts may be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...?proj_1,proj_2,...,proj_n&amp;sel_1&amp;sel_2&amp;...&amp;sel_m</pre>
</div>
</div>
<div class="paragraph">
<p>A <strong>projection</strong> is simply a comma-separated list of the variables that are to be returned to the client. If an array is to be subsampled, the
projection specifies the manner in which the sampling is to be done. If the selection is omitted, all the variables in the projection list are
returned. If the projection is omitted, the entire dataset is returned, subject to the evaluation of the selection expression. The projection
can also include functional expressions of the form&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...?function(arg_1,arg_2,...,arg_n)</pre>
</div>
</div>
<div class="paragraph">
<p>&#8230;&#8203;where the arguments are variables from the dataset, scalar values, or other functions. (See Constraint Expression Functions below.)</p>
</div>
<div class="paragraph">
<p>A <strong>selection</strong> expression leads with an ampersand and is a boolean expression of the form "variable operator variable", "variable operator value" or "function(arg_1,arg_2,&#8230;&#8203;,arg_n)", where&#8230;&#8203;</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">operator</dt>
<dd>
<p>Can be one of the relational operators listed in the table below.</p>
</dd>
<dt class="hdlist1">variable</dt>
<dd>
<p>Can be any variable recorded in the dataset.</p>
</dd>
<dt class="hdlist1">value</dt>
<dd>
<p>Can be any scalar, string, function, or list of numbers (Lists are denoted by comma-separated items enclosed in curly braces ,for example, \{3,11,4.5}.).</p>
</dd>
<dt class="hdlist1">function</dt>
<dd>
<p>Is a function defined by the server to operate on variables or values, and to return a boolean value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Each selection clause begins with an ampersand (&amp;). You can think of
this as representing the "AND" boolean operation, but remember that it
is actually a prefix operator, not an infix operator. That is, it must always appear at the beginning of each selection clause. This means that a constraint expression that contains no projection clause
must still have an &amp; in front of the first selection clause.</p>
</div>
<div class="paragraph">
<p>There is no limit on the number of selection clauses that can be
combined to create a compound constraint expression. Data that produces
a true (non-zero) value for the entire selection expression will be
included in the data returned to the client by the server. If only a
part of some data structure, such as a Sequence, satisfies the selection
criteria, then only that part will be returned.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Due to differences between data model paradigms, selection is not implemented for the OPeNDAP array data types, such as
Grid or Array. However, many OPeNDAP servers implement selection
functions you can use for the same effect. (See Constraint Expression Functions below for more information about functions.)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Simple Constraint Expression Examples</div>
<p>Consider the DDS below. This is the description of a dataset containing
station data including temperature, oxygen, and salinity. Each station
also contains 20 oxygen data points, taken at 20 fixed depths, used for calibration of the data.</p>
</div>
<div class="listingblock">
<div class="title">Sample Data Descriptor</div>
<div class="content">
<pre>Dataset {
   Sequence{
      Int32 day;
      Int32 month;
      Int32 year;
      Float64 lat;
      Float64 lon;
      Float64 O2cal[20];
      Sequence{
         Float64 press;
         Float64 temp;
         Float64 O2;
         Float64 salt;
      } cast;
      String comments;
   } station;
} arabian-sea;</pre>
</div>
</div>
<div class="paragraph">
<p>The following URL will return only the pressure and temperature pairs of this dataset. (Note that the constraint expression parser removes all
spaces, tabs, and newline characters before the expression is parsed.)
There is only a projection clause, without a selection, in this
constraint expression:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://oceans.edu/jg/exp1O2/cruise?station.cast.press,station.cast.temp</pre>
</div>
</div>
<div class="paragraph">
<p>We have assumed that the dataset was stored in the JGOFS format on the
remote host oceans.edu, in a file called explO2/cruise. For the sake of
brevity, from here on we will omit the first part of the URL so as to
concentrate on only the constraint expression.</p>
</div>
<div class="paragraph">
<p>If we only want to see pressure and temperature pairs below 500 meters deep, we can modify the constraint expression by adding a selection clause:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station.cast.press,station.cast.temp&amp;station.cast.press&gt;500.0</pre>
</div>
</div>
<div class="paragraph">
<p>In order to retrieve all of each cast that has any temperature reading
greater than 22 degrees, use the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station.cast&amp;station.cast.temp&gt;22.0</pre>
</div>
</div>
<div class="paragraph">
<p>Simple constraint expressions may be combined into compound expressions
by appending them to one another. To retrieve all stations west of 60
degrees West and north of the equator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station&amp;station.lat&gt;0.0&amp;station.lon&lt;-60.0</pre>
</div>
</div>
<div class="paragraph">
<p>As mentioned earler, the logical OR can be implemented using a list of scalars. The following expression will select only stations taken north of the equator in April, May, June, or July:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station&amp;station.lat&gt;0.0&amp;station.month={4,5,6,7}</pre>
</div>
</div>
<div class="paragraph">
<p>If our dataset contained a field called monsoon-month, indicating the month in which monsoons happened that year, we could modify the last example search to include those months as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station&amp;station.lat&gt;O.O&amp;station.month={4,5,6,7,station.monsoon-month}</pre>
</div>
</div>
<div class="paragraph">
<p>In other words, a list can contain both values and other variables. If monsoon-month was itself a list of months, a search could be written as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station&amp;station.lat&gt;0.0&amp;station.month=station.monsoon-month</pre>
</div>
</div>
<div class="paragraph">
<p>For arrays and grids, there is a special way to select data within the projection clause. Suppose we want to see only the first five oxygen calibration points for each station. The constraint expression for this would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station.02cal[0:4]</pre>
</div>
</div>
<div class="paragraph">
<p>By specifying a stride value, we can also select a hyperslab of the oxygen calibration array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station.02cal[0:5:19]</pre>
</div>
</div>
<div class="paragraph">
<p>This expression will return every fifth member of the 02cal array. In other words, the result will be a four-element array containing only the
first, sixth, eleventh, and sixteenth members of the 02cal array. Each
dimension of a multi-dimensional arrays may be subsampled in an
analogous way. The return value is an array of the same number of
dimensions as the sampled array, with each dimension size equal to the
number of elements selected from it.</p>
</div>
</div>
<div class="sect4">
<h5 id="trueoperators-special-functions-and-data-types"><a class="anchor" href="#trueoperators-special-functions-and-data-types"></a>Operators, Special Functions, and Data Types</h5>
<div class="paragraph">
<p>The constraint expression syntax defines a number of operators for each
data type. These operators are listed below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All the operators defined for the scalar base types are boolean
operators whose result depends on the specified comparison between its
arguments.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Constraint Expression Operators</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Class</th>
<th class="tableblock halign-left valign-top">Operators</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Simple Types</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte, Int*, UInt*, Float*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; &gt; =!= &#8656; &gt;=</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">=!= ~=</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">=!= ~=</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Compound Types</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[start:stop] [start:stride:stop]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sequence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[start:stop] [start:stride:stop] .</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Individual fields of type constructors may be accessed using the dot
(.) operator or the virtual file system syntax. If a structure <em>s</em> has two
fields time and temperature, then those fields may be accessed using
s.time and s.temperature or as s/time and s/temperature.</p>
</div>
<div class="paragraph">
<p>The ~= operator returns true when the character string on the left of
the operator matches the regular expression on the right. See <em>Pattern Matching with Constraint Expressions</em> for a discussion of regular expressions.</p>
</div>
<div class="paragraph">
<p>The array operator [] is used to subsample the given array. You can find
several examples of its use in the
<a href="./QuickStart.txt#Peeking_at_Data">Quick Start Guide</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="trueconstraint-expression-functions"><a class="anchor" href="#trueconstraint-expression-functions"></a>Constraint Expression Functions</h5>
<div class="paragraph">
<p>An OPeNDAP data server may define its own set of functions that may be
used in a constraint expression. For example, the oceans.edu data server
we have been imagining might define a sigma1() function to return the
density of the water at the given temperature, salinity, and pressure. A
query like the following would return all the stations containing water
samples whose density exceeded 1.0275g/cm3:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>?station.cast&amp;sigma1(station.cast.temp,
                     station.cast.salt,
                     station.cast.press)&gt;27.5</pre>
</div>
</div>
<div class="paragraph">
<p>Functions like this are not a standard part of the OPeNDAP
architecture and may vary from one server to another. A user may query
a server for a list of such functions by sending a URL with a constraint
expression that calls the "version()" function.</p>
</div>
<div class="paragraph">
<p>This will return a list of functions implemented. Call any of the
functions with no arguments to see a description of the arguments.</p>
</div>
<div class="paragraph">
<p>For example&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p><a href="http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.asc?version(" class="bare">http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.asc?version(</a>)</p>
</div>
<div class="paragraph">
<p>and&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p><a href="http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.asc?geogrid(" class="bare">http://test.opendap.org/dap/data/nc/sst.mnmean.nc.gz.asc?geogrid(</a>)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When using functions, remember that a function used in a projection can return any value, but when used in a selection clause, it must either return a boolean value, or be part of a test that returns a boolean value.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="truepattern-matching-with-constraint-expressions"><a class="anchor" href="#truepattern-matching-with-constraint-expressions"></a>Pattern Matching with Constraint Expressions</h5>
<div class="paragraph">
<p>There are three operators defined to compare one String data type to
another:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The = operator returns TRUE if its two input character strings
are identical.</p>
</li>
<li>
<p>The!= operator returns TRUE if the Strings do not
match.</p>
</li>
<li>
<p>The ~= operator is provided that returns TRUE if the String
to the left of the operator matches the regular expression in the String on the right.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A regular expression is simply a character string containing wildcard
characters that allow it to match patterns within a longer string. For
example, the following constraint expression might return all the
stations on the sample cruise on which a shark was sighted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>?station&amp;station.comment~=".*shark.*"</pre>
</div>
</div>
<div class="paragraph">
<p>Most characters in a regular expression match themselves. That is, an
"f" in a regular expression matches an "f" in the target string. There
are several special characters, however, that provide more sophisticated
pattern-matching capabilities.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">"."</dt>
<dd>
<p>The period matches any single character except a newline.</p>
</dd>
<dt class="hdlist1">* +?</dt>
<dd>
<p>These are postfix operators, which indicate to try to match the
preceding regular expression repetitively (as many times as possible).
Thus, o* matches any number of o&#8217;s. The operators differ in that o*
also matches zero o&#8217;s, o+ matches only a series of one or more o&#8217;s,
and o? matches only zero or one o.</p>
</dd>
<dt class="hdlist1">"[ &#8230;&#8203; ]"</dt>
<dd>
<p>Define a "character set," which begins with [ and is terminated by ].
In the simplest case, the characters between the two brackets are what
this set can match. For example, [Ss] matches either an upper or
lower case s. Brackets can also contain character ranges, so [0-9]
matches all the numerals. If the first character within the brackets
is a caret ( ), the expression will only match characters that do not
appear in the brackets. For example, [ 0-9]* matches only character
strings that contain no numerals.</p>
</dd>
<dt class="hdlist1">^$</dt>
<dd>
<p>These are special characters that match the empty string at the
beginning or end of a line.</p>
</dd>
<dt class="hdlist1">\|</dt>
<dd>
<p>These two characters define a logical OR between the largest possible
expression on either side of the operator. So, for example, the string
Endeavor\|Oceanus matches either Endeavor or Oceanus. The scope of the
OR can be contained with the grouping operators, \( and \).</p>
</dd>
<dt class="hdlist1">\( \)</dt>
<dd>
<p>These are used to group a series of characters into an expression, or for the OR function. For example, \(abc\)* matches zero or more repetitions of the string abc2.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>There are several more special characters and several other features of
the characters described here, but they are beyond the scope of this
guide. The OPeNDAP regular expression syntax is the same as that used in
the Emacs editor. See the documentation for Emacs for a complete
description of all the pattern- matching capabilities of regular
expressions.</p>
</div>
</div>
<div class="sect4">
<h5 id="trueoptimizing-the-query"><a class="anchor" href="#trueoptimizing-the-query"></a>Optimizing the Query</h5>
<div class="paragraph">
<p>Using the tools provided by OPeNDAP, a user can buil elaborate and sophisticated constraint expressions that will return precisely the data he or she wants. However, as the complexity of a constraint expression increases, so does the time necessary to process the expression. There are some techniques for optimizing the evaluation of a constraint that will ease the load on the server and provide faster replies to OPeNDAP dataset queries.</p>
</div>
<div class="paragraph">
<p>The OPeNDAP constraint expression evaluator uses a "lazy evaluation"
algorithm. This means that the sub-clauses of the selection clause are
evaluated in order and parsing halts when any sub-clause returns FALSE.
Consider a constraint expression that looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station&amp;station.cast.O2&gt;15.0&amp;station.cast.temp&gt;22.0</pre>
</div>
</div>
<div class="paragraph">
<p>If the server encounters a station with no oxygen values over 15.0, it does not bother to look at the temperature records at all. The first sub- clause evaluates FALSE, so the second clause is never even parsed.</p>
</div>
<div class="paragraph">
<p>A careful user may use this feature to his or her advantage. In the example above, the order of the clauses does not really matter; there
are the same number of temperature and oxygen measurements at each
station. However, consider the following expression:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station&amp;station.cast.O2&gt;15.0&amp;station.month={3,4,5}</pre>
</div>
</div>
<div class="paragraph">
<p>For each station there is only one month value and many
oxygen values. Passing a constraint expression like this one will force
the server to sort through all the oxygen data for each station (which
could be in the thousands of points), only to throw the data away when
it finds that the requested month does not match the month value stored
in the station data. This would be far better done with the clauses
reversed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> ?station&amp;station.month={3,4,5}&amp;station.cast.O2&gt;15.0</pre>
</div>
</div>
<div class="paragraph">
<p>This expression will evaluate much more quickly because unwanted
stations may be quickly discarded by the first sub-clause of the
selection. The server will only examine each oxygen value in the station
if it already knows that the station might be worth keeping.</p>
</div>
<div class="paragraph">
<p>This sort of optimization becomes even more important when one of the
clauses contains a URL. In general, any selection sub-clause containing
a URL should be left to the end of the selection. This way, the OPeNDAP
server will only be forced to go to the network for data if absolutely
necessary to evaluate the constraint expression.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueopendap-server-hyrax"><a class="anchor" href="#trueopendap-server-hyrax"></a>4. OPeNDAP Server (Hyrax)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides information about the structure of the OPeNDAP server, including a closer look at the server software provided by the OPeNDAP group itself. People involved in providing data to OPeNDAP users should read this before looking at the documentation for the server they will install.</p>
</div>
<div class="sect2">
<h3 id="truethe-opendap-server"><a class="anchor" href="#truethe-opendap-server"></a>4.1. The OPeNDAP Server</h3>
<div class="paragraph">
<p>Any server that responds to the messages described in
<a href="./UserGuideOPeNDAPMessages.txt">OPeNDAP Messages</a> using the
<a href="./UserGuideDataModel.txt">OPeNDAP Data Model</a> is an OPeNDAP server. The messages and the data model are published standards, available to anyone.</p>
</div>
<div class="paragraph">
<p>In addition to publishing and maintaining the
standards described here, the OPeNDAP group maintains a server that complies with the
standard. This is <a href="./Hyrax">Hyrax</a>.</p>
</div>
<div class="sect3">
<h4 id="truehyrax"><a class="anchor" href="#truehyrax"></a>4.1.1. Hyrax</h4>
<div class="paragraph">
<p>Hyrax, the modular OPeNDAP server, is flexible enough that it can serve data that currently exist in
a wide variety of data storage formats, including HDF4 data files, netCDF data, and, using the FreeForm module, data in arbitrary, non-standard formats.</p>
</div>
<div class="paragraph">
<p>Because Hyrax is modular, it can be outfitted to serve the
particular needs of your data without weighing down performance with
features you don&#8217;t need.</p>
</div>
<div class="sect4">
<h5 id="truehow-hyrax-works"><a class="anchor" href="#truehow-hyrax-works"></a>How Hyrax Works</h5>
<div class="paragraph">
<p>The Hyrax server is actually a combination of
two distinct servers, running on the same machine or on two machines
connected with a very fast link. One server serves as the user-facing
"front end" to the system while the other provides the "engine room",
optimized to turn around requests quickly.</p>
</div>
<div class="paragraph">
<p>The front end server is called the <strong>O</strong>PeNDAP <strong>L</strong>ightweight <strong>F</strong>ront
end <strong>S</strong>erver (OLFS). It receives requests for data and services in
multiple formats and forms, and is meant to be as "user friendly" as a
server can be. It also handles chores such as authentication and
authorization-checking and responding to catalog and bot requests. It
can also construct complex data requests from multiple requests from its
parner server.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/300px-HyraxArchitecture.jpg" alt="300px HyraxArchitecture.jpg"></span></p>
</div>
<div class="paragraph">
<p>This "engine room" server, called the <strong>B</strong>ack <strong>E</strong>nd <strong>S</strong>erver (BES), does
only one thing: it provides data. It is designed to do it fast. It handles
the compute-intensive parts of processing an OPeNDAP client request for
data. This results in higher performance for small requests while not
penalizing the larger requests.</p>
</div>
<div class="paragraph">
<p>Separating the two roles allows several paths to optimizing a server,
while still resulting in higher performance for small requests. An OLFS
controlling multiple BES processes on a machine can process multiple
requests quicker because while one BES is occupied with retrieving its
data, another can be processing its data. An OLFS controlling BES
processes on multiple machines can implement a rudimentary
load-balancing scheme to protect servers from overload. What&#8217;s more,
compute-intensive clients can optimize their processes further by
sending requests directly to the BES.</p>
</div>
</div>
<div class="sect4">
<h5 id="trueinstalling-hyrax"><a class="anchor" href="#trueinstalling-hyrax"></a>Installing Hyrax</h5>
<div class="paragraph">
<p>The two parts of <a href="./Hyrax.txt">Hyrax</a> are installed by
the same script. However, because they are discrete, they may require
different kinds of attention from an administrator. Testing OLFS
requires a working BES, so it is best to start the post-unpacking
process with the BES.</p>
</div>
<div class="paragraph">
<div class="title">Installing BES</div>
<p>The BES is a standalone server. Its installation involves parking its
code somewhere to be run as a daemon and configuring your system to
execute it.</p>
</div>
<div class="paragraph">
<p>After that, there are several configuration options that you will need
to address by installing software on your computer and by editing the
<a href="./Hyrax_-_BES_Configuration.txt">Hyrax configuration file</a>,
called bes.xml. Details of these options are in the Hyrax documentation, but following are the
decisions you&#8217;ll have to make:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">What kind of data</dt>
<dd>
<p>Hyrax is equipped to serve data stored in any of several different
file formats, HDF, netCDF and others. Each different format requires
its own handler, and your computer must have shared libraries
containing these handlers. For example, in order to serve
netCDF data, the netCDF handler library must be available to Hyrax,
and identified in its
<a href="./Hyrax_-<em>BES_Configuration.txt">configuration file</a>. The
handlers are shared libraries and are installed separately. Find
instructions under
<a href="./Hyrax</em>-_BES_Configuration.txt#Loading_Handlers">Loading
Handlers</a>.</p>
</dd>
<dt class="hdlist1">Where the data lives</dt>
<dd>
<p>A server equipped to serve data must be able to find that data. Lines in the bes.xml file identify the disk location of your data files. Hyrax can provide a limited amount of browsing capacity to users, through its <a href="./UserGuideOPeNDAPMessages.txt#WWW_Interface_Service">WWW interface</a>. Access is specified by identifying directories where data resides. See <a href="./Hyrax_-_BES_Configuration.txt">Pointing_to_data</a>.</p>
</dd>
<dt class="hdlist1">What kinds of services</dt>
<dd>
<p>Along with simply supplying data, Hyrax can supply several different services, including <a href="./UserGuideOPeNDAPMessages.txt#ASCII_Service">serving the data as ASCII values</a>, and the form-driven <a href="./UserGuideOPeNDAPMessages.txt#WWW_Interface_Service">WWW interface</a>. The bes.xml file is used to specify the list of services. The drivers for these services are installed as part of the default installation of Hyrax, but they need to be chosen and identified in bes.xml. See instructions at <a href="./Hyrax_-_BES_Configuration.txt#Loading_Handlers">Loading Handlers</a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Once these three tasks are accomplished and data is moved into the
appropriate directories, your server should be ready to provide data to
all comers, but specifically to its OLFS.</p>
</div>
<div class="paragraph">
<div class="title">The FreeForm Module</div>
<p>One of the shared libraries to use for serving data is called the
FreeForm module. This module allows you to serve data in fairly
arbitrary formats by writing a format description file to sit alongside
your data file. If you have data that is not in one of the supported file
formats, consider writing format descriptions using FreeForm and
serving the data that way.</p>
</div>
<div class="paragraph">
<p>See the <a href="./FreeForm.txt">FreeForm documentation</a> for more
information.</p>
</div>
<div class="paragraph">
<div class="title">Installing OLFS</div>
<p>The OLFS is a Java servlet, so its installation involves installing the
Tomcat servlet infrastructure and then configuring that with the OLFS.
There are four configuration files, but unless your&#8217;s is an unusual case,
you will likely have to look at only two of them. See
<a href="./Hyrax_-<em>OLFS_Configuration.txt">Hyrax</em>-_OLFS_Configuration</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Use the
<a href=".//Hyrax_-_OLFS_Configuration.txt#olfs.xml_Configuration_File">olfs.xml</a>
file to specify these important features of the OLFS operation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Address of BES</dt>
<dd>
<p>The OLFS is the front door to data from the BES. Use the olfs.xml file to identify where to find this server. See the instructions for the <a href="./Hyrax_-_OLFS_Configuration.txt#BESManager">BESManager</a>.</p>
</dd>
<dt class="hdlist1">Dispatch handlers</dt>
<dd>
<p>The OLFS "offers" the incoming URL to a series of "dispatch handlers"
until one accepts it and executes. This allows the OLFS to offer
directory and catalog services as well as data services and more. Use
the olfs.xml file to nominate the dispatch handlers (they come with
the OLFS and do not need to be separately installed). See
<a href="./Hyrax_-_OLFS_Configuration.txt#HTTP_GET_Handlers">handler instructions</a> for more.</p>
</dd>
<dt class="hdlist1">Catalog requests</dt>
<dd>
<p>The OLFS can handle
<a href="./Hyrax_-_THREDDS_Configuration.txt">THREDDS</a> catalog
requests as well as directory requests, which are an older part of the DAP
standard that also involves data about a collection of data files. The
THREDDS information can be static (provided from a file) or dynamic
(generated by a review of the available data).</p>
</dd>
<dt class="hdlist1">File access</dt>
<dd>
<p>You may have individual files you want served intact via this server.
These might include documentation of the data files or of the server.
See
<a href="./Hyrax_-_OLFS_Configuration.txt#File_Dispatch_Handler">File
Dispatch Handler</a> instructions.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>There are additional features, such as a bot blocker and a version
message as well as the experimental SOAP message handler. These are
also configured with
<a href="./Hyrax_-_OLFS_Configuration.txt#olfs.xml_Configuration_File">olfs.xml</a>.</p>
</div>
<div class="paragraph">
<p>The other configuration file that you might need to edit is
<a href="http://www.unidata.ucar.edu/projects/THREDDS/tech/TDS.html">catalog.xml</a>,
briefly reviewed under THREDDS, below.</p>
</div>
<div class="paragraph">
<div class="title">THREDDS</div>
<p><a href="http://www.unidata.ucar.edu/projects/THREDDS/tech/TDS.html">THREDDS</a> is a
catalog standard for scientific data promoted by scientists at
<a href="http://www.unidata.ucar.edu">UCAR</a>. It allows</p>
</div>
<div class="paragraph">
<p>The default file will allow dynamic catalogs to be created and should
allow your server to respond to THREDDS requests properly. You may want to serve a static THREDDS catalog as well. This can be done by
editing the catalog.xml file, and you will find links to instructions for
that at <a href="./Hyrax_-_THREDDS_Configuration.txt">Hyrax - THREDDS
Configuration</a>.</p>
</div>
<div class="paragraph">
<div class="title">Multiple BES Configuration</div>
<p>You can configure a single OLFS to work with multiple BES instances.
This enables rudimentary load balancing the isolation of data on one server or another. See the
<a href="./Hyrax_-_Configuring_The_OLFS_To_Work_With_Multiple_BES%27s.txt">Hyrax
configuration chapter</a> for more information on the subject.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueopendap-client"><a class="anchor" href="#trueopendap-client"></a>5. OPeNDAP Client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section presents information about the parts of the OPeNDAP client, including a review of the available client software, from within as well as outside the OPeNDAP group.
  Developers interested in creating new OPeNDAP clients, as well as
  users who want to convert a program to a network-aware OPeNDAP client
  should read this chapter.</p>
</div>
<div class="sect2">
<h3 id="truethe-opendap-client"><a class="anchor" href="#truethe-opendap-client"></a>5.1. The OPeNDAP Client</h3>
<div class="paragraph">
<p>The OPeNDAP client is the program that sends a message to an OPeNDAP
server in order to get some data, or other information.</p>
</div>
<div class="paragraph">
<p>An OPeNDAP client is usually just a data analysis application program
modified to become a web browser, somewhat like any other web browser
with which you may be familiar. A web browser can only display the data
it receives, however. What makes an OPeNDAP client different from
another web browser is that once the data has been received from an
OPeNDAP server, the OPeNDAP client application can compute with it.</p>
</div>
<div class="paragraph">
<p>Like a web browser, an OPeNDAP client accepts a URL from a user, and
sends a message to that address, asking for the information specified in
the the URL. Unlike a typical web browser, an OPeNDAP client will not
know what to do with data returned for a web page containing text and
pictures, but an OPeNDAP server will return scientific data that an
OPeNDAP client can understand and process.</p>
</div>
<div class="paragraph">
<p>There is a wide range of OPeNDAP clients available, and it should not be
hard to find one you can use.</p>
</div>
<div class="paragraph">
<p>In fact, though it can become clumsy for advanced applications, you can
use an ordinary web browser as a client to most OPeNDAP servers, making
use of the server&#8217;s
<a href="./UserGuideOPeNDAPMessages.txt#WWW_Interface_Service">WWW
interface</a>. The <a href="./QuickStart.txt">Quick Start Guide</a> contains
many examples of exactly this.</p>
</div>
<div class="paragraph">
<p>After a basic web browser, the simplest clients to use are likely to be
the programs you&#8217;re already using. If you use one of the popular data
analysis environments like Matlab or IDL, you can find a client command
you can incorporate into your environment to let you call OPeNDAP data
directly into your working data. If you use one of the netCDF-based
packages, like GrADS or Ferret, you can get a network-enabled version of
the program that will work with OPeNDAP URLs just as well as file names.</p>
</div>
<div class="paragraph">
<p>If none of those options work for you, there is a whole range of client
libraries you can use to develop a client of your own. Several of these
are supported by the OPeNDAP project, and there are others out there in
the world supported by other groups.</p>
</div>
<div class="paragraph">
<p>This page provides a list and very brief overview of the various
options, along with pointers to places you can find more information
about each one.</p>
</div>
<div class="sect3">
<h4 id="trueclients"><a class="anchor" href="#trueclients"></a>5.1.1. Clients</h4>
<div class="paragraph">
<p>OPeNDAP clients come in a variety of forms. The simplest are web
browsers, who use the OPeNDAP
<a href="./UserGuideOPeNDAPMessages.txt#WWW_Interface_Service">WWW
interface</a> and the <a href="./UserGuideOPeNDAPMessages.txt#ASCII_Service">ASCII
response</a> to check out data sets and download data.</p>
</div>
<div class="paragraph">
<p>Beyond these, there are three categories of client. The first contains
clients you can use in conjunction with one of the popular data analysis
environments, the second is a collection of command-line clients useful
for scripting as well as testing, and the third contains a set of API
libraries you can use for developing your own client, or for converting
an existing body of code into an OPeNDAP client. These are reviewed in
that order below:</p>
</div>
<div class="sect4">
<h5 id="truenetcdf-compliant-tools-e-g-matlab-r-idl-idv-and-panoply"><a class="anchor" href="#truenetcdf-compliant-tools-e-g-matlab-r-idl-idv-and-panoply"></a>NetCDF Compliant Tools (e.g., Matlab, R, IDL, IDV, and Panoply)</h5>
<div class="paragraph">
<p>Any tool that uses the C NetCDF API will work with OPeNDAP. For example, Matlab has built-in support for OPeNDAP; Matlab supported NetCDF calls can be used with DAP datasets. Other tools that are built on NetCDF API also read data from OPeNDAP servers. A free tool similar to Matlab, <a href="https://www.gnu.org/software/octave/">GNU Octave</a>, is also supported. The <a href="https://www.r-project.org/">R Project</a> for Statistical Computing can also read data from OPeNDAP servers. The <a href="http://ferret.wrc.noaa.gov/Ferret">Ferret</a> and
<a href="http://cola.gmu.edu/grads/">GrADS</a> free data analysis packages both
support OPeNDAP. You can use these for dowloading OPeNDAP data and for
examining it afterwards. (There are limitations. For example, Ferret may not be able to read datasets served as Sequence data.)</p>
</div>
<div class="paragraph">
<p>Other tools, that are Java NetCDF compliant, also function with OPeNDAP clients; for example, <a href="http://www.unidata.ucar.edu/software/idv/">IDV</a> and <a href="http://www.giss.nasa.gov/tools/panoply/">Panoply</a>.</p>
</div>
<div class="paragraph">
<div class="title">Panoply</div>
<p>Download Panoply and install
Enter a URL and it will work or not</p>
</div>
<div class="paragraph">
<p>Open Dataset catalog: When you use the URL for the root of a server, you can examine the entire contents (all of the datasets) of the server.</p>
</div>
</div>
<div class="sect4">
<h5 id="truetesting"><a class="anchor" href="#truetesting"></a>Testing</h5>
<div class="paragraph">
<p>There are a couple of command-line clients out there you can use, though
most people only use them for testing. Part of the libdap distribution
(the C interface) is a program called getdap, which takes an OPeNDAP
URL as a command-line argument and returns the reply to standard output.
This is typically used to check that the libdap C library is properly
compiled, but you can also use it to retrieve data.</p>
</div>
<div class="paragraph">
<p>Part of the OPeNDAP C library is a command-line client called octest.
This allows you to type commands to manipulate responses to an OPeNDAP
URL. Like the C++ test program, this can be construed as a test of the
library or a test of the servers, but it can also be used as a
command-line client, perhaps as an aid to automation.</p>
</div>
<div class="paragraph">
<p>Similar programs are part of the netCDF distribution. The ncdump program
outputs a "dump" of a netCDF file, and ncview provides a
better-formatted look at such a file. Since the standard netCDF library
can be linked to the OPeNDAP libraries, both these programs can be
readily aquired in their OPeNDAP-enabled form.</p>
</div>
<div class="paragraph">
<p>Here is a simple example, using the ncview program. This program simply
prints out the contents of a netCDF formatted data file, specified on
the command line, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ncdump fnocl.nc</pre>
</div>
</div>
<div class="paragraph">
<p>Using OPeNDAP, this same function may be executed from any computer
connected to the Internet by substituting a URL for the filename above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ncdump http://dods.gso.uri.edu/cgi-bin/nc/data/fnocl.nc</pre>
</div>
</div>
<div class="paragraph">
<p>Aside from the fact that the data is remote, and must be specified with
a URL, the program will seem to function in the same way it had with the
simple netCDF library (albeit somewhat more slowly due to having to make
network connections instead of local file operations).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>netcdf fnocl {
dimensions:
    time_a = 16
    lat = 17;
    lon = 21;
    time = 16;

variables:
    long u(time_a, lat, ion);
        u:units = ``meter per second'';
        u:long_name = ``Vector wind eastward component'';
        u:missing_value = ``-32767'';
        u:scale_factor = ``0.005'';
    long v(time_a, lat, ion);
        v:units = ``meter per second'';
        v:long_name = ``Vector wind northward component'';
        v:missing_value = ``-32767'';
        v:scale_factor = ``0.005'';
    double lat(lat);
        lat:units = ``degree North'';
    double lon(lon);
        lon:units = ``degree East'';
    double time(time);
        time:units = ``hours from base_time'';

// global attributes:
       :base_time = ``88- 10-00:00:00'';
       :title = ``FNOC UV wind components
                           from 1988- 10 to 1988- 13.'';
data:
 u =
  -1728, -2449, -3099, -3585, -3254, -2406, -1252,
    662, 2483, 2910, 2819, 2946, 2745, 2734,
  2931, 2601, 2139, 1845, 1754, 1897, 1854, -1686,
...</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="trueclient-libraries"><a class="anchor" href="#trueclient-libraries"></a>Client Libraries</h5>
<div class="paragraph">
<p>Several libraries exist that you can link with other software to create
an OPeNDAP client. Some of these are provided by the OPeNDAP project
itself, and some are projects of other groups.</p>
</div>
<div class="paragraph">
<p>The OPeNDAP libraries are functional equivalents of each other. They are
derived from separate code bases, but they do the same thing. They are
provided in different languages for the convenience of the implementer.</p>
</div>
<div class="paragraph">
<div class="title">C++ Client Library</div>
<p>The <a href="http://opendap.org/download/libdap.html[C" class="bare">http://opendap.org/download/libdap.html[C</a> library], also called
libdap, was the original client implementation of the OPeNDAP protocol.
It provides classes to manage the connection between a client and a data
source, as well as classes for each of the data types, and the other
information (such as DAS and DDS) a client will encounter.</p>
</div>
<div class="paragraph">
<p>To use the library, you will need to provide implementations for some
abstract classes. Consult the <a href="./Libdap_Overview.txt">libdap
Overview</a> for an introduction to the basic concepts behind the use of
this library. You will also find the
<a href="http://www.opendap.org/api/pref/html/index.html">C++ library Reference</a>
useful.</p>
</div>
<div class="paragraph">
<div class="title">C Client Library</div>
<p>The OPeNDAP group supports a <a href="http://opendap.org/download/oc.html">C
library</a>. The C library is in many ways a simpler library to use than
the C++ libdap, but it is not as flexible in other ways. Using the
library is straightforward, and you&#8217;ll find a file called
octutorial.html in the software release that provides a detailed example
of its use.</p>
</div>
<div class="paragraph">
<div class="title">Java Client Library</div>
<p>The OPeNDAP group supports a
<a href="http://opendap.org/download/java-dap.html">Java implementation</a> of the
DAP. On the Java page, there are links to download the Java class
documentation.</p>
</div>
<div class="paragraph">
<div class="title">netCDF API Library</div>
<p>The <a href="http://www.unidata.ucar.edu/software/netcdf">netCDF library</a> deserves
special note. This is a drop-in replacement for the standard netCDF
library. (In fact, as of release 4.0, it <em>is</em> the standard netCDF
library.) This means that converting a program that depends on the
netCDF API to use OPeNDAP is as simple as re-linking with an updated
version of the netCDF library.</p>
</div>
<div class="paragraph">
<p>See the <a href="http://www.unidata.ucar.edu/software/netcdf">netCDF home page</a>
for information about how to use that library.</p>
</div>
<div class="paragraph">
<div class="title">Python library</div>
<p><a href="http://pydap.org">Pydap</a> is an implementation of the OPeNDAP client in
pure Python. This is tremendously useful for scripting complicated
applications with lots of download steps. This is not supported by the
OPeNDAP group, so please refer to the <a href="http://pydap.org">Pydap site</a> for
more information about it.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-12-14 22:34:45 CST
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>